PrimeFaces.AB_MAPPING={s:"source",f:"formId",p:"process",u:"update",e:"event",a:"async",g:"global",d:"delay",t:"timeout",iau:"ignoreAutoUpdate",ps:"partialSubmit",rv:"resetValues",fi:"fragmentId",fu:"fragmentUpdate",pa:"params",onst:"onstart",oner:"onerror",onsu:"onsuccess",onco:"oncomplete"};PrimeFaces.ab=function(a,c){for(var b in a){if(!a.hasOwnProperty(b)){continue}if(this.AB_MAPPING[b]){a[this.AB_MAPPING[b]]=a[b];delete a[b]}}PrimeFaces.ajax.Request.handle(a,c)};PrimeFaces.ajax={VIEW_HEAD:"javax.faces.ViewHead",VIEW_BODY:"javax.faces.ViewBody",Utils:{getContent:function(c){var b="";for(var a=0;a<c.childNodes.length;a++){b+=c.childNodes[a].nodeValue}return b},updateFormStateInput:function(c,g,h){var e=$.trim(g);var b=null;if(h&&h.pfSettings&&h.pfSettings.portletForms){b=$(h.pfSettings.portletForms)}else{b=$("form")}for(var d=0;d<b.length;d++){var f=b.eq(d);if(f.attr("method")==="post"){var a=f.children("input[name='"+c+"']");if(a.length>0){a.val(e)}else{f.append('<input type="hidden" name="'+c+'" value="'+e+'" autocomplete="off" />')}}}},updateElement:function(f,c,e){if(f.indexOf(PrimeFaces.VIEW_STATE)!==-1){PrimeFaces.ajax.Utils.updateFormStateInput(PrimeFaces.VIEW_STATE,c,e)}else{if(f.indexOf(PrimeFaces.CLIENT_WINDOW)!==-1){PrimeFaces.ajax.Utils.updateFormStateInput(PrimeFaces.CLIENT_WINDOW,c,e)}else{if(f===PrimeFaces.VIEW_ROOT){window.PrimeFaces=null;var b=$.ajaxSetup()["cache"];$.ajaxSetup()["cache"]=true;$("head").html(c.substring(c.indexOf("<head>")+6,c.lastIndexOf("</head>")));$.ajaxSetup()["cache"]=b;var d=new RegExp("<body[^>]*>","gi").exec(c)[0];var a=c.indexOf(d)+d.length;$("body").html(c.substring(a,c.lastIndexOf("</body>")))}else{if(f===PrimeFaces.ajax.VIEW_HEAD){window.PrimeFaces=null;var b=$.ajaxSetup()["cache"];$.ajaxSetup()["cache"]=true;$("head").html(c.substring(c.indexOf("<head>")+6,c.lastIndexOf("</head>")));$.ajaxSetup()["cache"]=b}else{if(f===PrimeFaces.ajax.VIEW_BODY){var d=new RegExp("<body[^>]*>","gi").exec(c)[0];var a=c.indexOf(d)+d.length;$("body").html(c.substring(a,c.lastIndexOf("</body>")))}else{$(PrimeFaces.escapeClientId(f)).replaceWith(c)}}}}}}},Queue:{delays:{},requests:new Array(),xhrs:new Array(),offer:function(a){if(a.delay){var b=null,d=this,b=(typeof(a.source)==="string")?a.source:$(a.source).attr("id"),c=function(){return setTimeout(function(){d.requests.push(a);if(d.requests.length===1){PrimeFaces.ajax.Request.send(a)}},a.delay)};if(this.delays[b]){clearTimeout(this.delays[b].timeout);this.delays[b].timeout=c()}else{this.delays[b]={timeout:c()}}}else{this.requests.push(a);if(this.requests.length===1){PrimeFaces.ajax.Request.send(a)}}},poll:function(){if(this.isEmpty()){return null}var b=this.requests.shift(),a=this.peek();if(a){PrimeFaces.ajax.Request.send(a)}return b},peek:function(){if(this.isEmpty()){return null}return this.requests[0]},isEmpty:function(){return this.requests.length===0},addXHR:function(a){this.xhrs.push(a)},removeXHR:function(b){var a=$.inArray(b,this.xhrs);if(a>-1){this.xhrs.splice(a,1)}},abortAll:function(){for(var a=0;a<this.xhrs.length;a++){this.xhrs[a].abort()}this.xhrs=new Array();this.requests=new Array()}},Request:{handle:function(a,b){a.ext=b;if(a.async){PrimeFaces.ajax.Request.send(a)}else{PrimeFaces.ajax.Queue.offer(a)}},send:function(e){PrimeFaces.debug("Initiating ajax request.");PrimeFaces.customFocus=false;var m=(e.global===true||e.global===undefined)?true:false,b=null,f=null;if(e.onstart){var t=e.onstart.call(this,e);if(t===false){PrimeFaces.debug("Ajax request cancelled by onstart callback.");if(!e.async){PrimeFaces.ajax.Queue.poll()}return false}}if(m){$(document).trigger("pfAjaxStart")}if(typeof(e.source)==="string"){f=e.source}else{f=$(e.source).attr("id")}if(e.formId){b=$(PrimeFaces.escapeClientId(e.formId))}else{b=$(PrimeFaces.escapeClientId(f)).parents("form:first");if(b.length===0){b=$("form").eq(0)}}PrimeFaces.debug("Form to post "+b.attr("id")+".");var u=b.attr("action"),s=b.children("input[name='javax.faces.encodedURL']"),g=[];var l=null;if(s.length>0){l='form[action="'+u+'"]';u=s.val()}PrimeFaces.debug("URL to post "+u+".");g.push({name:PrimeFaces.PARTIAL_REQUEST_PARAM,value:true});g.push({name:PrimeFaces.PARTIAL_SOURCE_PARAM,value:f});if(e.resetValues){g.push({name:PrimeFaces.RESET_VALUES_PARAM,value:true})}if(e.ignoreAutoUpdate){g.push({name:PrimeFaces.IGNORE_AUTO_UPDATE_PARAM,value:true})}var r=PrimeFaces.ajax.Request.resolveComponentsForAjaxCall(e,"process");if(e.fragmentId){r.push(e.fragmentId)}var a=r.length>0?r.join(" "):"@all";if(a!=="@none"){g.push({name:PrimeFaces.PARTIAL_PROCESS_PARAM,value:a})}var d=PrimeFaces.ajax.Request.resolveComponentsForAjaxCall(e,"update");if(e.fragmentId&&e.fragmentUpdate){d.push(e.fragmentId)}if(d.length>0){g.push({name:PrimeFaces.PARTIAL_UPDATE_PARAM,value:d.join(" ")})}if(e.event){g.push({name:PrimeFaces.BEHAVIOR_EVENT_PARAM,value:e.event});var k=e.event;if(e.event==="valueChange"){k="change"}else{if(e.event==="action"){k="click"}}g.push({name:PrimeFaces.PARTIAL_EVENT_PARAM,value:k})}else{g.push({name:f,value:f})}if(e.params){$.merge(g,e.params)}if(e.ext&&e.ext.params){$.merge(g,e.ext.params)}if(e.partialSubmit&&a.indexOf("@all")===-1){var n=false;if(a.indexOf("@none")===-1){for(var o=0;o<r.length;o++){var h=$(PrimeFaces.escapeClientId(r[o]));var v=null;if(h.is("form")){v=h.serializeArray();n=true}else{if(h.is(":input")){v=h.serializeArray()}else{v=h.find(":input").serializeArray()}}$.merge(g,v)}}if(!n){g.push({name:PrimeFaces.VIEW_STATE,value:b.children("input[name='"+PrimeFaces.VIEW_STATE+"']").val()});var j=b.children("input[name='"+PrimeFaces.CLIENT_WINDOW+"']");if(j.length>0){g.push({name:PrimeFaces.CLIENT_WINDOW,value:j.val()})}var q=b.children("input[name='dsPostWindowId']");if(q.length>0){g.push({name:"dsPostWindowId",value:q.val()})}q=b.children("input[name='dspwid']");if(q.length>0){g.push({name:"dspwid",value:q.val()})}}}else{$.merge(g,b.serializeArray())}var c=$.param(g);PrimeFaces.debug("Post Data:"+c);var p={url:u,type:"POST",cache:false,dataType:"xml",data:c,portletForms:l,source:e.source,global:false,beforeSend:function(w,i){w.setRequestHeader("Faces-Request","partial/ajax");w.pfSettings=i;w.pfArgs={};if(m){$(document).trigger("pfAjaxSend",[w,this])}},error:function(x,i,w){if(e.onerror){e.onerror.call(this,x,i,w)}if(m){$(document).trigger("pfAjaxError",[x,this,w])}PrimeFaces.error("Request return with error:"+i+".")},success:function(x,i,y){PrimeFaces.debug("Response received succesfully.");var w;if(e.onsuccess){w=e.onsuccess.call(this,x,i,y)}if(e.ext&&e.ext.onsuccess&&!w){w=e.ext.onsuccess.call(this,x,i,y)}if(m){$(document).trigger("pfAjaxSuccess",[y,this])}if(w){return}else{PrimeFaces.ajax.Response.handle(x,i,y)}PrimeFaces.debug("DOM is updated.")},complete:function(w,i){if(e.oncomplete){e.oncomplete.call(this,w,i,w.pfArgs)}if(e.ext&&e.ext.oncomplete){e.ext.oncomplete.call(this,w,i,w.pfArgs)}if(m){$(document).trigger("pfAjaxComplete",[w,this])}PrimeFaces.debug("Response completed.");PrimeFaces.ajax.Queue.removeXHR(w);if(!e.async){PrimeFaces.ajax.Queue.poll()}}};if(e.timeout){p.timeout=e.timeout}PrimeFaces.ajax.Queue.addXHR($.ajax(p))},resolveComponentsForAjaxCall:function(a,b){var c="";if(a[b]){c+=a[b]}if(a.ext&&a.ext[b]){c+=" "+a.ext[b]}return PrimeFaces.expressions.SearchExpressionFacade.resolveComponents(c)}},Response:{handle:function(f,d,k,b){var l=f.getElementsByTagName("partial-response")[0];for(var e=0;e<l.childNodes.length;e++){var a=l.childNodes[e];switch(a.nodeName){case"redirect":PrimeFaces.ajax.ResponseProcessor.doRedirect(a);break;case"changes":var g=$(document.activeElement).attr("id");for(var c=0;c<a.childNodes.length;c++){var h=a.childNodes[c];switch(h.nodeName){case"update":PrimeFaces.ajax.ResponseProcessor.doUpdate(h,k,b);break;case"delete":PrimeFaces.ajax.ResponseProcessor.doDelete(h);break;case"insert":PrimeFaces.ajax.ResponseProcessor.doInsert(h);break;case"attributes":PrimeFaces.ajax.ResponseProcessor.doAttributes(h);break;case"eval":PrimeFaces.ajax.ResponseProcessor.doEval(h);break;case"extension":PrimeFaces.ajax.ResponseProcessor.doExtension(h,k);break}}PrimeFaces.ajax.Response.handleReFocus(g);PrimeFaces.ajax.Response.destroyDetachedWidgets();break;case"eval":PrimeFaces.ajax.ResponseProcessor.doEval(a);break;case"extension":PrimeFaces.ajax.ResponseProcessor.doExtension(a,k);break;case"error":PrimeFaces.ajax.ResponseProcessor.doError(a,k);break}}},handleReFocus:function(b){if(PrimeFaces.customFocus===false&&b&&b!==$(document.activeElement).attr("id")){var a=$(PrimeFaces.escapeClientId(b));a.focus();setTimeout(function(){if(!a.is(":focus")){a.focus()}},150)}PrimeFaces.customFocus=false},destroyDetachedWidgets:function(){for(var a=0;a<PrimeFaces.detachedWidgets.length;a++){var d=PrimeFaces.detachedWidgets[a];var b=PF(d);if(b){if(b.isDetached()){PrimeFaces.widgets[d]=null;b.destroy();try{delete b}catch(c){}}}}PrimeFaces.detachedWidgets=[]}},ResponseProcessor:{doRedirect:function(a){window.location=a.getAttribute("url")},doUpdate:function(c,d,a){var e=c.getAttribute("id"),b=PrimeFaces.ajax.Utils.getContent(c);if(a&&a.widget&&a.widget.id===e){a.handle.call(a.widget,b)}else{PrimeFaces.ajax.Utils.updateElement(e,b,d)}},doEval:function(b){var a=b.textContent||b.innerText||b.text;$.globalEval(a)},doExtension:function(b,c){if(c){if(b.getAttribute("ln")==="primefaces"&&b.getAttribute("type")==="args"){var a=b.textContent||b.innerText||b.text;c.pfArgs=$.parseJSON(a)}}},doError:function(a,b){},doDelete:function(a){var b=a.getAttribute("id");$(PrimeFaces.escapeClientId(b)).remove()},doInsert:function(d){if(!d.childNodes){return false}for(var b=0;b<d.childNodes.length;b++){var a=d.childNodes[b];var f=a.getAttribute("id");var e=$(PrimeFaces.escapeClientId(f));var c=PrimeFaces.ajax.Utils.getContent(a);if(a.nodeName==="after"){$(c).insertAfter(e)}else{if(a.nodeName==="before"){$(c).insertBefore(e)}}}},doAttributes:function(c){if(!c.childNodes){return false}var g=c.getAttribute("id");var f=$(PrimeFaces.escapeClientId(g));for(var b=0;b<c.childNodes.length;b++){var d=c.childNodes[b];var a=d.getAttribute("name");var e=d.getAttribute("value");if(!a){return}if(!e||e===null){e=""}f.attr(a,e)}}},AjaxRequest:function(a,b){return PrimeFaces.ajax.Request.handle(a,b)}};