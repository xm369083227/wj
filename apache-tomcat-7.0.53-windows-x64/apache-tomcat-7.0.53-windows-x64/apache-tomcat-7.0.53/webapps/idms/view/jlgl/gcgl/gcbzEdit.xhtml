
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<h:form id="form" style="margin-bottom:10px;width:950px;margin-top:10px">
	<h:panelGrid columns="1">
		<p:tabView id="tabview" scrollable="true" style="width:950px">
			<p:tab title="测量过程准入">
				<h:panelGrid style="width:900px">
					<h:panelGrid columns="4" width="900px" align="left">
						<h:panelGroup>
							<h:outputText value="测量过程编号："></h:outputText>
							<h:outputText value="*" style="color: red" />
						</h:panelGroup>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.bh}" required="true"
							label="测量过程编号" size="45" maxlength="50"
							readonly="#{!gcglClgcMb.edit}"></p:inputText>
						<h:panelGroup>
							<h:outputText value="测量过程名称："></h:outputText>
							<h:outputText value="*" style="color: red" />
						</h:panelGroup>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.mc}" required="true"
							label="测量过程名称" size="45" maxlength="50"
							readonly="#{!gcglClgcMb.edit}"></p:inputText>
						<h:panelGroup>
							<h:outputText value="测量过程地点："></h:outputText>
							<h:outputText value="*" style="color: red" />
						</h:panelGroup>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.cldd}"
							required="true" label="测量过程地点" size="45" maxlength="50"
							readonly="#{!gcglClgcMb.edit}"></p:inputText>
						<h:outputText value="测量过程管理部门："></h:outputText>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.glbm}" size="45"
							readonly="#{!gcglClgcMb.edit}">
						</p:inputText>
						<h:outputText value="测量方法文件编号：" />
						<p:inputText id="jsffmc"
								value="#{gcglClgcMb.clgcVarchobj.wjbh}" size="45" maxlength="50"
								 readonly="true" />
						<h:outputText value="测量过程实施部门："></h:outputText>
						<p:inputText 
							value="#{gcglClgcMb.clgcVarchobj.ssbm}" size="45" maxlength="100"
							readonly="#{!gcglClgcMb.edit}"></p:inputText>
					
						
						<h:outputText value="测量要求的文件："/>
						<p:inputTextarea cols="45" rows="3"
							value="#{gcglClgcMb.clgcVarchobj.clyqwj}" maxlength="100"
							readonly="#{!gcglClgcMb.edit}"/>
						<h:outputText value="测 量 环 境：" style="width:100px" />
							<p:inputTextarea id="jsssbf" rows="3" cols="45"
								value="#{gcglClgcMb.clgcVarchobj.hjtj}" 
								maxlength="100"  readonly="true"/>
							
						<h:panelGroup>
							<h:outputText value="重&nbsp;&nbsp;&nbsp;要&nbsp;&nbsp;&nbsp;度&nbsp;&nbsp;&nbsp;类;&nbsp;&nbsp;别："></h:outputText>
							
						</h:panelGroup>
						
						<h:selectOneMenu id="txt2" value="#{gcglClgcMb.clgcVarchobj.zydlb}" required="true" label="Text 2" readonly="#{!gcglClgcMb.edit}">
                			<f:selectItem itemLabel="A" itemValue="A" />
                			<f:selectItem itemLabel="B" itemValue="B" />
            			</h:selectOneMenu>
						<h:panelGroup>
							<h:outputText value="单 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;位："></h:outputText>
							
						</h:panelGroup>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.dw}" required="true"
							label="单位" size="45" maxlength="50"
							readonly="#{!gcglClgcMb.edit}"></p:inputText>
						<h:panelGroup>
							<h:outputText value="登 &nbsp;&nbsp;&nbsp;&nbsp;记 &nbsp;&nbsp;&nbsp;&nbsp;人&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;员："></h:outputText>
							
						</h:panelGroup>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.djry}" required="true"
							label="登记员" size="45" maxlength="50"
							readonly="#{!gcglClgcMb.edit}"></p:inputText>		
							
						<h:panelGroup>
							<h:outputText value="登 记 日 期："></h:outputText>
							
						</h:panelGroup>
						<p:inputText value="#{gcglClgcMb.clgcVarchobj.djrq}" required="true"
							label="登记日期" size="45" maxlength="50"
							readonly="#{!gcglClgcMb.edit}">
							<f:convertDateTime pattern="yyyy-MM-dd" locale="zh_CN"
										timeZone="GMT+8" />
							</p:inputText>		
								
						
								
							</h:panelGrid>
						</h:panelGrid>
						
						<h:panelGrid width="950px" align="left">
							<p:dataTable style="width:900px" id="data1" var="gccs"
								value="#{gcglClgcMb.gccsList}" rowIndexVar="rowVar"
								filterDelay="300" resizableColumns="true " liveResize="true"
								paginatorPosition="bottom">

								<p:column headerText="序号" style="width:50px;">
									<h:outputText value="#{rowVar+1}"></h:outputText>
								</p:column>
								<p:column headerText="设备名称" style="width:137px;">
									<h:outputText value="*" style="color:red"></h:outputText>
									<p:inputText value="#{gccs.sbmc}" onclick="GetId(this)"
										maxlength="100" style="width:80%" readonly="#{!gcglClgcMb.edit}"></p:inputText>
								</p:column>
								<p:column headerText="型号规格" style="width:137px;">
									<h:outputText value="*" style="color:red"></h:outputText>
									<p:inputText value="#{gccs.xhgg}" onclick="GetId(this)"
										maxlength="100" style="width:80%" readonly="#{!gcglClgcMb.edit}"></p:inputText>
								</p:column>
								<p:column headerText="准确度" style="width:137px;">
									<h:outputText value="*" style="color:red"></h:outputText>
									<p:inputText value="#{gccs.zqd}" onclick="GetId(this)"
										maxlength="100" style="width:80%" readonly="#{!gcglClgcMb.edit}"></p:inputText>
								</p:column>
								<p:column headerText="测量名称" style="width:137px;">
									<h:outputText value="*" style="color:red"></h:outputText>
									<p:inputText value="#{gccs.clmc}" onclick="GetId(this)"
										maxlength="100" style="width:80%" readonly="#{!gcglClgcMb.edit}"></p:inputText>
								</p:column>
								<p:column headerText="测量范围" style="width:137px;">
									<h:outputText value="*" style="color:red"></h:outputText>
									<p:inputText value="#{gccs.clfw}" onclick="GetId(this)"
										maxlength="100" style="width:80%" readonly="#{!gcglClgcMb.edit}"></p:inputText>
								</p:column>
								<p:column headerText="允许误差" style="width:136px;">
									<h:outputText value="*" style="color:red"></h:outputText>
									<p:inputText value="#{gccs.yxwc}" onclick="GetId(this)"
										maxlength="100" style="width:80%" readonly="#{!gcglClgcMb.edit}"></p:inputText>
								</p:column>
								
							</p:dataTable>
							<h:panelGroup>
								<p:commandButton value="保存"
									actionListener="#{gcglClgcMb.saveObjs}" update=":growlid"
									style="margin-left: 500px" rendered="#{gcglClgcMb.edit}" />
							</h:panelGroup>
						</h:panelGrid>
					</p:tab>
			<p:tab title="附件">
				<h:panelGrid width="900px"
					style="margin-top: -10px;margin-left:-17px;">
					<h:panelGrid width="100%">
						<p:fileUpload multiple="true" update=":form:tabview:filePaneId"
							fileUploadListener="#{gcglClgcMb.handleFileUpload}"
							style="width:100%;" mode="advanced" label="浏览" cancelLabel="取消"
							uploadLabel="上传" sizeLimit="10240000"
							invalidSizeMessage="文件必须小于10M" invalidFileMessage="格式不支持"
							dragDropSupport="false"
							allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|txt|rar|zip|doc|docx|xls|xlsx)$/"
							rendered="#{gcglClgcMb.edit}">
						</p:fileUpload>
						<p:dataTable id="filePaneId" paginator="true"
							value="#{gcglClgcMb.fileBean.files}" style="width:100%;"
							rows="15" rowIndexVar="rowVar" filterDelay="300"
							resizableColumns="true " liveResize="true"
							paginatorPosition="bottom"  var="file"	
							currentPageReportTemplate="总数: {totalRecords}, 当前页: {currentPage}/{totalPages}"
							paginatorTemplate="  {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks}
                              {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							lazy="true" rowsPerPageTemplate="15,30,50">

							<p:column headerText="序号" style="width:40px;">
								<h:outputText value="#{rowVar+1}" />
							</p:column>

							<p:column headerText="附件名称" style="width:50%">
								<h:outputText value="#{file.wjmc}" />
							</p:column>

							<p:column headerText="上传人员">
								<p:outputLabel value="#{file.scyhid}"></p:outputLabel>
							</p:column>
							<p:column headerText="上传时间">
								<h:outputText value="#{file.scrq}">
									<f:convertDateTime pattern="yyyy-MM-dd" locale="zh_CN"
										timeZone="GMT+8" />
								</h:outputText>
							</p:column>
							<p:column headerText="操作" style="width:8%">
								<h:panelGroup>
									<p:commandButton id="downId" ajax="false"
										action="#{gcglClgcMb.fileBean.downFile}"
										icon="ui-icon-arrowthick-1-s" immediate="true">
										<f:setPropertyActionListener
											target="#{gcglClgcMb.fileBean.file}" value="#{file}"></f:setPropertyActionListener>

									</p:commandButton>
									<h:outputText value="  "></h:outputText>
									<p:commandButton id="deleteId" ajax="false"
										action="#{gcglClgcMb.fileBean.deleteFile}"
										icon="ui-icon-trash" immediate="true"
										rendered="#{gcglClgcMb.edit}">
										<p:confirm icon="ui-icon-alert" message="确定删除吗?"></p:confirm>
										<f:setPropertyActionListener
											target="#{gcglClgcMb.fileBean.file}" value="#{file}"></f:setPropertyActionListener>
									</p:commandButton>
								</h:panelGroup>
							</p:column>
						</p:dataTable>
						<h:panelGroup>
							<p:commandButton value="保存"
								actionListener="#{gcglClgcMb.saveObjs}" update=":growlid"
								style="margin-left: 500px" rendered="#{gcglClgcMb.edit}" />
						</h:panelGroup>
					</h:panelGrid>
				</h:panelGrid>
			</p:tab>
		</p:tabView>
	</h:panelGrid>
</h:form>
</html>