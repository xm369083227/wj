<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>设备维修单</title>
	<ui:include src="/common/templates/ui.xhtml"></ui:include>
</h:head>
<body style="border-bottom-width: 1px">
	<p:growl id="growlid" showDetail="false" sticky="true" autoUpdate="true"></p:growl>
	<h:form id="form" style="text-align: center;"
		enctype="multipart/form-data">
		<p:tabView id="tabview" style="text-align: left;">
			<div style="left: -10px;azimuth: "></div>
			<p:tab title="维修记录">
				<p:panelGrid columns="1" style="width:900px;align=letf;">
					<p:panel style="border:1px solid #ADADAD">
						<h:panelGrid columns="4" width="900px">
							<h:outputText value="设备名称："></h:outputText>
							<p:inputText value="#{SbwxBean.ztxg.sbglSbxx.sbmc}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="计量编号："></h:outputText>
							<p:inputText value="#{SbwxBean.ztxg.sbglSbxx.jlbh}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="出厂编号："></h:outputText>
							<p:inputText value="#{SbwxBean.ztxg.sbglSbxx.ccbh}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="使用部门："></h:outputText>
							<p:inputText value="#{SbwxBean.ztxg.sbglSbxx.sybmmc}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="修理单位："></h:outputText>
							<p:inputText value="#{SbwxBean.sbrzWxjl.xldw}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="修理部门："></h:outputText>
							<p:inputText value="#{SbwxBean.sbrzWxjl.xlbm}" size="20"
								readonly="true"></p:inputText>
						</h:panelGrid>
						</p:panel >
						<p:panel style="border:1px solid #ADADAD">
							<h:panelGrid columns="2" style="width:900px;align=left;">
								<h:outputText value="工时定额标准："></h:outputText>
								<h:panelGroup>
								<p:selectOneMenu value="#{SbwxBean.selectGskhbz.lx}" rendered="#{!SbwxBean.grgsbd}"
									valueChangeListener="#{SbwxBean.handValueChangeEventLx}">
									<f:selectItem itemLabel="请选择" itemValue="" />
									<f:selectItems value="#{selectDebzlxBean.lxSelectItems}"
										var="obj" itemLabel="#{obj.key}" itemValue="#{obj.value}">
									</f:selectItems>
									<p:ajax event="change" update=":form:tabview" immediate="true" />
								</p:selectOneMenu>
								<p:inputText value="#{SbwxBean.selectGskhbz.lx}" rendered="#{SbwxBean.grgsbd}"
								readonly="true"/>
								<p:selectOneMenu id="children1" label="名称"
									value="#{SbwxBean.selectGskhbz.mc}" rendered="#{!SbwxBean.grgsbd}"
									valueChangeListener="#{SbwxBean.handValueChangeEventGsmc}">
									<f:selectItem itemLabel="请选择" itemValue="" />
									<f:selectItems value="#{SbwxBean.gsmcList}" var="obj"
										itemLabel="#{obj.key}" itemValue="#{obj.value}">
									</f:selectItems>
									<p:ajax event="change" update=":form:tabview:children2"
										immediate="true" />
								</p:selectOneMenu>
								<p:inputText value="#{SbwxBean.selectGskhbz.mc}" rendered="#{SbwxBean.grgsbd}"
								readonly="true"/>
								<p:selectOneMenu id="children2"
									value="#{SbwxBean.selectGskhbz.ggdj}" rendered="#{!SbwxBean.grgsbd}"
									valueChangeListener="#{SbwxBean.handValueChangeEventGgdj}"
									label="规格等级">
									<f:selectItem itemLabel="请选择" itemValue="" />
									<f:selectItems value="#{SbwxBean.ggdjList}" var="obj"
										itemLabel="#{obj.key}" itemValue="#{obj.value}">
									</f:selectItems>
									<p:ajax update=":form:tabview:djgs" />
								</p:selectOneMenu>
								<p:inputText value="#{SbwxBean.selectGskhbz.ggdj}" rendered="#{SbwxBean.grgsbd}"
								readonly="true"/>
							</h:panelGroup>
							<h:panelGrid columns="2" >
						<h:outputText value="工时（小时）：" />
						<p:inputText id="djgs" value="#{SbwxBean.selectGskhbz.wxgs}" size="20" readonly="true"/>					
					</h:panelGrid>	
					</h:panelGrid>
					</p:panel>
					
					<p:panel style="border:1px solid #ADADAD">
						<h:panelGrid columns="2">
							<h:panelGroup>
								<h:outputText value="维修原因："></h:outputText>
								<h:outputText value="*" style="color:red" />
							</h:panelGroup>
							<p:inputTextarea value="#{SbwxBean.ztxg.xgyy}" rows="3" cols="90" readonly="true"
								label="维修原因" required="true" requiredMessage="维修原因：不能为空！"></p:inputTextarea>
						</h:panelGrid>
						</p:panel>
					  <p:panel style="border:1px solid #ADADAD">
						<h:panelGrid columns="2">
							<h:panelGroup>
								<h:outputText value="故障描述："></h:outputText>
								<h:outputText value="*" style="color:red" />
							</h:panelGroup>
							<p:inputTextarea value="#{SbwxBean.sbrzWxjl.gzms}" rows="3"
								cols="90" label="故障描述" required="true" requiredMessage="故障描述：不能为空！"></p:inputTextarea>
							<h:panelGroup>
								<h:outputText value="维修内容："></h:outputText>
								<h:outputText value="*" style="color:red" />
							</h:panelGroup>
							<p:inputTextarea value="#{SbwxBean.sbrzWxjl.xlnr}" rows="3"
								cols="90" label="维修内容" required="true" requiredMessage="维修内容：不能为空！"></p:inputTextarea>
						</h:panelGrid>
					</p:panel>

					<p:panel style="border:1px solid #ADADAD">
						<h:panelGrid columns="4" width="900px">
							<h:outputText value="维修人员："></h:outputText>
							<p:inputText value="#{SbwxBean.sbrzWxjl.xlry}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="维修日期："></h:outputText>
							<p:inputText value="#{SbwxBean.sbrzWxjl.xlrq}" readonly="true">
								<f:convertDateTime pattern="yyyy-MM-dd" locale="zh_CN"
									timeZone="GMT+8" />
							</p:inputText>
						</h:panelGrid>
						<h:panelGrid columns="2" width="900px">
							<h:panelGroup>
								<h:outputText value="维修意见："></h:outputText>
								<h:outputText value="*" style="color:red" />
							</h:panelGroup>
							<p:inputTextarea rows="3" readonly="#{!SbwxBean.showA}"
								style="border:#{SbwxBean.taskNode=='维修人员维修' ? '2px solid' : ''};border-color:#{SbwxBean.taskNode=='维修人员维修' ? '#46A3FF' : ''};"
								value="#{SbwxBean.sbrzWxjl.xljg}" cols="90" label="维修意见"
								maxlength="100" required="true" requiredMessage="维修意见：不能为空！"></p:inputTextarea>
						</h:panelGrid>
					</p:panel>
				</p:panelGrid>
			</p:tab>
		</p:tabView>
		<h:panelGrid columns="4" style="margin-left: 200px;">
			<h:panelGroup>
				<p:commandButton value="提交" rendered="#{SbwxBean.currentTask.zt==1}"
				action="#{SbwxBean.submit}"/>			
				&nbps;
				&nbps;&nbsp;
				<p:commandButton value="取消" rendered="#{SbwxBean.currentTask.zt==1}"
				action="#{SbwxBean.cancel}"/>
			</h:panelGroup>
		</h:panelGrid>
		
	</h:form>
</body>

</html>