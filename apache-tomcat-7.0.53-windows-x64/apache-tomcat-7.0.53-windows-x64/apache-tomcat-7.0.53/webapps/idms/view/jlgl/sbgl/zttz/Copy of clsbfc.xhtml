<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>设备封存单</title>
	<ui:include src="/common/templates/ui.xhtml"></ui:include>
</h:head>
<body style="border-bottom-width: 1px">
	<h:form id="ncrform" style="text-align: center;"
		enctype="multipart/form-data">
		<p:panel id="thyy" rendered="false" header="退回"
			style="width:800px;text-align: left;margin-left: -10px;margin-top: -10px;">
			<h:panelGroup>
				<p:outputLabel value="退回原因：" style="color:red"></p:outputLabel>
				<p:outputLabel value="" style="color: black;font-weight: bold;"></p:outputLabel>
			</h:panelGroup>
		</p:panel>

		<p:tabView id="allform" style="text-align: left;">
			<div style="left: -10px;azimuth: "></div>

			<p:tab title="设备封存申请单">
				<p:panel header="" style="width:90%;text-align: left;">
					<p:panelGrid columns="1" width="1200px" align="left">
						<f:facet name="header">
							<h:outputText value="设备封存申请"></h:outputText>
						</f:facet>
						<h:panelGrid columns="2" style="margin-left: 800px">
							<h:outputText value="填表日期："></h:outputText>
							<h:outputText value="#{sbrzFcsbMb.varchObj.kssj}" readonly="true">
								<f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" locale="zh_CN"
									timeZone="GMT+8" />
							</h:outputText>
						</h:panelGrid>
						<h:panelGrid columns="4" width="1200px" align="left">
							<h:outputText value="申请人："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sqr}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="申请日期："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.kssj}" readonly="true">
								<f:convertDateTime pattern="yyyy-MM-dd" locale="zh_CN"
									timeZone="GMT+8" />
							</p:inputText>
						</h:panelGrid>
						<h:panelGrid columns="4" width="1200px" align="left">
							<h:outputText value="计量编号："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.jlbh}"
								size="20" readonly="true"></p:inputText>
							<h:outputText value="设备名称："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.sbmc}"
								size="20" readonly="true"></p:inputText>
							<h:outputText value="规格型号："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.ggxh}"
								size="20" readonly="true"></p:inputText>
							<h:outputText value="生产厂家："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.sccj}"
								size="20" readonly="true"></p:inputText>
							<h:outputText value="出厂编号："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.ccbh}"
								size="20" readonly="true"></p:inputText>
							<h:outputText value="使用部门："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.sybm}"
								size="20" readonly="true"></p:inputText>
							<h:outputText value="技术状况："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.jszk}" size="20"
								required="true" label="技术状况" maxlength="100"></p:inputText>
							<h:outputText value="检定方式："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.jdfs}"
								size="20" required="true" label="检定方式" maxlength="100"></p:inputText>
							<h:outputText value="设备状态："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sbglSbxx.sbzt}"
								size="20" readonly="true"></p:inputText>
						</h:panelGrid>

						<h:panelGrid columns="2" width="1200px" align="left">
							<h:panelGroup>
								<h:outputText value="封存原因："></h:outputText>
								<h:outputText value="*" style="color: red" />
							</h:panelGroup>
							<p:inputTextarea value="#{sbrzFcsbMb.varchObj.xgyy}" rows="3"
								cols="60" required="true" label="封存原因" maxlength="100"></p:inputTextarea>
							<h:outputText value="备注："></h:outputText>
							<p:inputTextarea value="#{sbrzFcsbMb.varchObj.bz}" rows="3"
								cols="60" label="备注" maxlength="100"></p:inputTextarea>
						</h:panelGrid>
					</p:panelGrid>
				</p:panel>
				<h:panelGrid style="margin-left: -17px;" width="100%">
					<p:panel header="备注（500字）" style="width:90%;text-align: left;">
						<p:inputTextarea rows="5" value="#{zttzClsbFcJBean.ztxg.xgyy}"
							style="width:100%;" maxlength="500"
							requiredMessage="备注长度不能大于500个字"></p:inputTextarea>
					</p:panel>
				</h:panelGrid>
			 <h:panelGrid columns="4" width="1200px" align="left">
							<h:outputText value="主管领导："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.sqr}" size="20"
								readonly="true"></p:inputText>
							<h:outputText value="审批日期："></h:outputText>
							<p:inputText value="#{sbrzFcsbMb.varchObj.kssj}" readonly="true">
								<f:convertDateTime pattern="yyyy-MM-dd" locale="zh_CN"
									timeZone="GMT+8" />
							</p:inputText>							
						</h:panelGrid>
			 <h:panelGrid columns="2" width="1200px" align="left">
							
							<p:outputLabel value="审批结果："></p:outputLabel>
                                               <p:selectOneRadio  value="#{gskhbzMb.editObj.lx}" required="true" label="工时类型" >
		                                          <f:selectItem itemLabel="同意" itemValue="24" ></f:selectItem>
		                                          <f:selectItem itemLabel="不同意" itemValue="168"></f:selectItem>		                                         
		                                        </p:selectOneRadio> 							
						</h:panelGrid>
			</p:tab>


			<p:tab title="附件">

			</p:tab>

			<p:tab title="审批日志">
			</p:tab>
		</p:tabView>



		<h:panelGrid columns="4" style="margin-left: 200px;">




			<p:dialog id="prodialogPub" height="30" style="position: absolute;"
				closable="false" widgetVar="proDiaWidPub" resizable="false">
				<p:progressBar id="progressBarClientPub" labelTemplate="流程处理中..."
					widgetVar="pbClient" style="width:300px;" />
			</p:dialog>

			<h:panelGroup>
				<c:forEach var="availableTransition"
					items="#{wftaskBean.availableTransitions}">
					<c:set var="availableTransition" value="#{availableTransition}" />
					<p:commandButton ajax="false"
						rendered="#{(availableTransition.name=='退回修改' )?false:true}"
						id="#{availableTransition.name}" action="#{wftaskBean.outcome}"
						value="#{availableTransition.name}"
						actionListener="#{wftaskBean.processAction}" immediate="false"
						onclick="PF('proDiaWidPub').show();start();">
					</p:commandButton>
					<f:verbatim>&nbsp;&nbsp;&nbsp;&nbsp;</f:verbatim>
				</c:forEach>
				<p:commandButton value="退回修改"
					rendered="#{!(wftaskBean.availableTransitions==null)}" ajax="false"
					immediate="true" onclick="PF('dlg1').show(); return false ; ">
				</p:commandButton>


				<p:commandButton value="任务召回" ajax="false"
					rendered="#{wftaskBean.zhrw and wftaskBean.hasFunction}"
					action="#{wftaskBean.outcome}"
					actionListener="#{wftaskBean.processBackAction}" immediate="true">
				</p:commandButton>

			</h:panelGroup>

		</h:panelGrid>
	</h:form>


	<p:dialog id="basicDialog" header="退回修改" widgetVar="dlg1"
		maximizable="true" height="200px" width="400px" modal="true"
		closable="false">
		<h:form id="gzzx" enctype="multipart/form-data">
			<h:panelGrid id="hq">
				<p:inputTextarea value="#{zttzClsbFcJBean.thyy}" rows="5" cols="45"></p:inputTextarea>
				<h:panelGrid columns="2">
					<p:outputLabel value="退回目标节点："></p:outputLabel>

					<h:selectOneMenu value="#{wftaskBean.targetNode}">
						<f:selectItems value="#{wftaskBean.targetNodes}"></f:selectItems>
					</h:selectOneMenu>
					<p:commandButton id="确认" ajax="false"
						action="#{wftaskBean.outcome}" value="确认"
						actionListener="#{wftaskBean.processAction}" immediate="false">
					</p:commandButton>

					<p:commandButton id="取消" ajax="true" update=":basicDialog"
						oncomplete="PF('dlg1').hide()" value="取消"
						actionListener="#{wftaskBean.cancelProcessAction}"
						immediate="false">
					</p:commandButton>
				</h:panelGrid>
			</h:panelGrid>
		</h:form>
	</p:dialog>
</body>

</html>