<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<ui:include src="/common/templates/ui.xhtml"></ui:include>
</h:head>
<body>
	<p:growl id="growlid"  sticky="true" autoUpdate="true"></p:growl>
	<h:form id="roleform" >
	<p:messages id="msgId" showDetail="true" autoUpdate="true" />
	          <table>
				<tr>
				   <td style="float:left;"> 
				   <p:dataTable id="data" style="width:600px" var="item" value="#{authorQb.roleSet}"
					 paginator="true" rows="20" rowIndexVar="rowVar"
					 filterDelay="300" lazy="true" rowsPerPageTemplate="5,10,15" paginatorPosition="bottom" 
					 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks}
		                              {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
		
					<p:column  headerText="#{jc.jc_js_jsbm}" >
						<h:outputText value="#{item.jsbm}" />
					</p:column>
		
					<p:column  headerText="#{jc.jc_js_jsmc}" >
						<h:outputText value="#{item.jsmc}" />
					</p:column>
		
					<p:column headerText="操作" width="10%">
						<p:commandLink update=":roleform:gndata" 
						       value="详情" action="#{authorQb.viewFunctions}" style="color: orange;" >
						         <f:setPropertyActionListener target="#{authorQb.role}" value="#{item}"></f:setPropertyActionListener>
						</p:commandLink>
					</p:column>
				  </p:dataTable></td>
				  
				   <td width="400px" style="float:right;">  
				    <p:dataList  id="gndata"  rowIndexVar="index"
				         value="#{authorQb.gnList}" 
				             widgetVar="gntables" itemType="none"
				             var="gns" type="unordered"  paginator="true" rows="10" >
				       
				        <f:facet name="header">
				            <h:outputText value="#{authorQb.role.jsmc}"></h:outputText>
				        </f:facet>
				         <h:outputText value="#{index+1}" />
				          &nbsp;&nbsp;&nbsp;
				        <h:outputText value="#{gns.gnmc}" style="display:inline-block"/>
				    </p:dataList>
				    </td>
				</tr>
			
			  </table>
	</h:form>
</body>
</html>
